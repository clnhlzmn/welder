Version 4
SHEET 1 880 680
WIRE -2064 -352 -2064 -384
WIRE -1952 -352 -2064 -352
WIRE -1824 -352 -1952 -352
WIRE -496 -352 -496 -384
WIRE -304 -352 -496 -352
WIRE -224 -352 -304 -352
WIRE -1824 -336 -1824 -352
WIRE -224 -336 -224 -352
WIRE -2064 -320 -2064 -352
WIRE -496 -320 -496 -352
WIRE -2240 -272 -2272 -272
WIRE -2128 -272 -2160 -272
WIRE -672 -272 -720 -272
WIRE -560 -272 -592 -272
WIRE -304 -272 -304 -352
WIRE -2272 -240 -2272 -272
WIRE -1952 -240 -1952 -352
WIRE -1824 -240 -1824 -272
WIRE -720 -240 -720 -272
WIRE -224 -240 -224 -272
WIRE -1392 -208 -1648 -208
WIRE -1040 -208 -1312 -208
WIRE -2512 -160 -2544 -160
WIRE -2416 -160 -2432 -160
WIRE -2320 -160 -2336 -160
WIRE -960 -160 -992 -160
WIRE -864 -160 -880 -160
WIRE -768 -160 -784 -160
WIRE -2272 -128 -2272 -144
WIRE -2064 -128 -2064 -224
WIRE -2064 -128 -2272 -128
WIRE -1952 -128 -1952 -176
WIRE -1952 -128 -2064 -128
WIRE -1824 -128 -1824 -160
WIRE -1824 -128 -1952 -128
WIRE -720 -128 -720 -144
WIRE -496 -128 -496 -224
WIRE -496 -128 -720 -128
WIRE -304 -128 -304 -208
WIRE -304 -128 -496 -128
WIRE -224 -128 -224 -160
WIRE -224 -128 -304 -128
WIRE -2544 -48 -2544 -160
WIRE -2064 -48 -2064 -128
WIRE -2064 -48 -2544 -48
WIRE -1872 -48 -2064 -48
WIRE -1824 -48 -1872 -48
WIRE -1648 -48 -1648 -208
WIRE -1632 -48 -1648 -48
WIRE -1504 -48 -1552 -48
WIRE -1392 -48 -1504 -48
WIRE -1216 -48 -1312 -48
WIRE -1184 -48 -1216 -48
WIRE -1040 -48 -1040 -208
WIRE -1040 -48 -1184 -48
WIRE -992 -48 -992 -160
WIRE -496 -48 -496 -128
WIRE -496 -48 -992 -48
WIRE -304 -48 -496 -48
WIRE -224 -48 -304 -48
WIRE -1824 -32 -1824 -48
WIRE -1040 -32 -1040 -48
WIRE -224 -32 -224 -48
WIRE -2064 -16 -2064 -48
WIRE -496 -16 -496 -48
WIRE -1504 16 -1504 -48
WIRE -2240 32 -2272 32
WIRE -2128 32 -2160 32
WIRE -1872 32 -1872 -48
WIRE -672 32 -720 32
WIRE -560 32 -592 32
WIRE -304 32 -304 -48
WIRE -2272 64 -2272 32
WIRE -1824 64 -1824 32
WIRE -720 64 -720 32
WIRE -224 64 -224 32
WIRE -1504 112 -1504 80
WIRE -1216 112 -1216 -48
WIRE -1216 112 -1504 112
WIRE -2416 144 -2432 144
WIRE -2320 144 -2336 144
WIRE -864 144 -880 144
WIRE -768 144 -784 144
WIRE -2272 176 -2272 160
WIRE -2064 176 -2064 80
WIRE -2064 176 -2272 176
WIRE -1872 176 -1872 96
WIRE -1872 176 -2064 176
WIRE -1824 176 -1824 144
WIRE -1824 176 -1872 176
WIRE -720 176 -720 160
WIRE -496 176 -496 80
WIRE -496 176 -720 176
WIRE -304 176 -304 96
WIRE -304 176 -496 176
WIRE -224 176 -224 144
WIRE -224 176 -304 176
WIRE -2064 224 -2064 176
WIRE -496 224 -496 176
FLAG -2064 224 0
FLAG -2512 144 0
FLAG -2064 -384 +V
FLAG -496 224 0
FLAG -960 144 0
FLAG -496 -384 +V
FLAG -3104 0 +V
FLAG -3104 80 0
FLAG -1504 -48 +OUT
FLAG -1184 -48 -OUT
FLAG -1040 -32 0
SYMBOL voltage -3104 -16 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR Value 48
SYMATTR InstName V1
SYMBOL voltage -2416 144 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 67 78 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL file=outn.txt
SYMBOL voltage -2416 -160 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -71 122 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL file=outp.txt
SYMBOL nmos -2320 -240 R0
SYMATTR InstName M1
SYMATTR Value IRF7401
SYMBOL nmos -2320 64 R0
SYMATTR InstName M2
SYMATTR Value IRF7401
SYMBOL voltage -864 144 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 62 69 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PWL file=outp.txt
SYMBOL voltage -864 -160 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -65 124 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL file=outn.txt
SYMBOL nmos -768 -240 R0
SYMATTR InstName M3
SYMATTR Value IRF7401
SYMBOL nmos -768 64 R0
SYMATTR InstName M4
SYMATTR Value IRF7401
SYMBOL res -240 -256 R0
SYMATTR InstName R2
SYMATTR Value {R_snub}
SYMBOL res -240 48 R0
SYMATTR InstName R3
SYMATTR Value {R_snub}
SYMBOL res -1840 48 R0
SYMATTR InstName R4
SYMATTR Value {R_snub}
SYMBOL cap -1840 -336 R0
SYMATTR InstName C5
SYMATTR Value {C_snub}
SYMBOL res -1840 -256 R0
SYMATTR InstName R5
SYMATTR Value {R_snub}
SYMBOL ind -1536 -64 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L3
SYMATTR Value {L_filt}
SYMBOL cap -1520 16 R0
SYMATTR InstName C6
SYMATTR Value {C_filt}
SYMBOL res -1296 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 0.2
SYMBOL diode -1936 -176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode -1856 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode -288 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -288 -208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL cap -1840 -32 R0
SYMATTR InstName C1
SYMATTR Value {C_snub}
SYMBOL cap -240 -32 R0
SYMATTR InstName C2
SYMATTR Value {C_snub}
SYMBOL cap -240 -336 R0
SYMATTR InstName C3
SYMATTR Value {C_snub}
SYMBOL res -2320 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R_g}
SYMBOL res -2320 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R_g}
SYMBOL res -768 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R_g}
SYMBOL res -768 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R_g}
SYMBOL res -2144 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {R_b}
SYMBOL res -2144 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {R_b}
SYMBOL res -576 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {R_b}
SYMBOL res -576 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value {R_b}
SYMBOL pnp -560 -224 M180
SYMATTR InstName Q3
SYMBOL pnp -560 80 M180
SYMATTR InstName Q4
SYMBOL pnp -2128 -224 M180
SYMATTR InstName Q1
SYMBOL pnp -2128 80 M180
SYMATTR InstName Q2
SYMBOL voltage -1408 -208 R270
WINDOW 0 -32 56 VBottom 2
WINDOW 3 71 53 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PWL file=vout.txt
TEXT -3176 -208 Left 2 !.tran 0.02
TEXT -3280 -352 Left 2 !.param C_snub=1e-9 R_snub=1e6 R_g=1 R_b=1 L_filt=20e-6 C_filt=47e-6
